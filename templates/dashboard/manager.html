{% extends "dashboard/base_dashboard.html" %}
{% set role_color = '#0a58ca' %}

{% block title %}Manager Dashboard{% endblock %}
{% block dashboard_title %}Manager Dashboard{% endblock %}

{% block dashboard_content %}
<div class="row mb-4">
    <div class="col-md-4">
        <div class="card text-white bg-primary">
            <div class="card-body">
                <h5 class="card-title">Team Members</h5>
                <p class="card-text display-4">{{ department_employee_count }}</p>
            </div>
        </div>
    </div>
</div>

<!-- Leave Request Cards at the top -->
<div class="row mb-4">
    <div class="col-md-3">
        <a href="{{ url_for('leave.my_requests') }}" class="text-decoration-none">
            <div class="card text-center dashboard-link-card">
                <div class="card-body">
                    <h5 class="card-title">My Leave Requests</h5>
                </div>
            </div>
        </a>
    </div>

    {% if current_user.role in ['manager', 'head_of_department', 'it_manager'] %}
    <div class="col-md-3">
        <a href="{{ url_for('leave.pending_requests') }}" class="text-decoration-none">
            <div class="card text-center dashboard-link-card">
                <div class="card-body">
                    <h5 class="card-title">Pending Leave Requests</h5>
                </div>
            </div>
        </a>
    </div>
    {% endif %}
</div>

<div class="card mb-4">
    <div class="card-header">
        <h5>Department Activities</h5>
    </div>
    <div class="card-body">
        {% include 'dashboard/partials/recent_activities.html' %}
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h5>My Team</h5>
    </div>
    <div class="card-body">
        {% include 'dashboard/partials/employee_summary.html' %}
    </div>
</div>
{% endblock %}
